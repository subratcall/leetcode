## Solution 1: Brute Force
The brute force way is pretty straightforward:

1. Find all paths
2. Check each path if it can be a panlindrome

TC:O(N^2)

SC: O(N + k) where k is the number of distinct elements (here is 9)

```py
class Solution:
    def pseudoPalindromicPaths (self, root: Optional[TreeNode]) -> int:  
        self.res = 0
        self.dfs(root, [])
        return self.res
        
    def dfs(self, root, visited):
        if not root:
            return
        visited.append(root.val)
        if not root.left and not root.right:
            self.res += self.checkPanlin(visited)
        if root.left:
            self.dfs(root.left, visited)
            visited.pop()
        if root.right:
            self.dfs(root.right, visited)
            visited.pop()
            
    def checkPanlin(self, path):
        counter = collections.Counter(path)
        odd = 0
        for num in counter:
            if counter[num] % 2:
                odd += 1
                if odd > 1:
                    return 0
        return 1
```

As you may have noticed, the time is pretty high. That's because we are doing two separate steps. We spend O(n) time finding all paths, and spend O(n) time iterating through each path, checking if it can be a panlindrome.

As a result, we cannot pass all the test cases, ending up with TLE.

## Solution 2: Use a set to track parity on the fly
```py
class Solution:
    def pseudoPalindromicPaths (self, root: Optional[TreeNode]) -> int:  
        self.res = 0
        self.dfs(root, set())
        return self.res
        
    def dfs(self, root, visited):
        # helpfer function to track parity
        def toggle(val):
            if val in visited:
                visited.remove(val)
            else:
                visited.add(val)
                
        toggle(root.val)        
        if not root.left and not root.right:
            if len(visited) <= 1:
                self.res += 1
                return
            
        if root.left:
            self.dfs(root.left, visited)
            toggle(root.left.val)
        if root.right:
            self.dfs(root.right, visited)
            toggle(root.right.val)
```
