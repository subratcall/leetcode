```
class Solution:
    def lengthOfLongestSubstring(self, s: str) -> int:
        if not s:
            return 0
        left, right = 0, 1
        res = 1
        
        from collections import defaultdict
        record = defaultdict(lambda: -1)
        record[s[left]] = left
        while right <= len(s) - 1:
            if record[s[right]] < 0:
                record[s[right]] = right
                right += 1
                res = max(res, right - left)
                print(right, left)
            else:
                left = record[s[right]] + 1
                for key in record:
                    if record[key] < record[s[left]]:
                        record[key] = -1
                record[s[right]] = right
                right += 1

        return res
                
                
            
```
